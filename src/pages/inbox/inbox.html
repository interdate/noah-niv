<!--
  Generated template for the InboxPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="mo-innheader">
</ion-header>


<ion-content>
    <div class="mo-msg">
        <div class="mo-inn">
            <h1 class="mo-pghead">{{ pageData.title }}</h1>
            <div class="mo-msglist alerts">
                <div *ngIf="users.length == 0 && !init" class="no-results">{{ pageData.no_results }}</div>
                <ul>
                    <li *ngFor="let user of users" [ngClass]="{'active': user.user.isOnline == '1'}" (click)="chat(user)">
                        <div class="inn cf">
                            <a class="thumb">
                                <img *ngIf="user.user.main != 'https://www.dos2date.co.il/images/users/large/0.jpg' && user.user.main != 'https://www.dos2date.co.il/images/users/large/1.jpg'" src="{{ user.user.main }}" alt="user">
                                <img *ngIf="user.user.main == 'https://www.dos2date.co.il/images/users/large/0.jpg'" src="images/1_0.png" alt="user">
                                <img *ngIf="user.user.main == 'https://www.dos2date.co.il/images/users/large/1.jpg'" src="images/1_1.png" alt="user">
                                </a>
                            <div class="cont">
                                <h4><a [ngClass]="{'mo-online-aft': user.user.isOnline == '1'}"
                                       class="">{{ user.user.userfName }}</a>
                                </h4>
                                <div class="date">{{ user.message.date }}</div>
                                <div class="clr"></div>
                                <p>{{ user.user.age }}, מ{{ user.user.regionCountryId_str }} <br>
                                    {{ user.user.userHeight }} {{ pageData.height_mesure }}, {{ user.user.maritalStatusId_str }},
                                    {{ user.user.religinId_str }}<br>
                                    {{ user.message.text | slice:0:50 }}{{user.message.text?.length > 50 ? '...' : ''}}
                                </p>
                            </div>
                        </div>
                        <div *ngIf="user?.user?.isBingo == '1'" (click)="chat(user)" class="dating"></div>
                        <div *ngIf="user.newMessagesCount > 0" class="mess-counter">{{ user.newMessagesCount }}</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="users.length > 19">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
